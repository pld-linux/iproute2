diff -urN iproute2.orig/Makefile iproute2/Makefile
--- iproute2.orig/Makefile	2002-01-15 23:30:32.000000000 +0000
+++ iproute2/Makefile	2004-05-01 15:46:50.000000000 +0000
@@ -4,7 +4,5 @@
 CONFDIR=/etc/iproute2
 DOCDIR=/usr/doc/iproute2
 
-KERNEL_INCLUDE=/usr/src/linux/include
-LIBC_INCLUDE=/usr/include
 
 DEFINES= -DRESOLVE_HOSTNAMES
@@ -23,19 +22,11 @@
 #options for ipx
 ADDLIB+=ipx_ntop.o ipx_pton.o
 
-ifeq ($(LIBC_INCLUDE)/socketbits.h,$(wildcard $(LIBC_INCLUDE)/socketbits.h))
-  ifeq ($(LIBC_INCLUDE)/net/if_packet.h,$(wildcard $(LIBC_INCLUDE)/net/if_packet.h))
-    GLIBCFIX=-I../include-glibc -include ../include-glibc/glibc-bugs.h
-  endif
-endif
-ifeq ($(LIBC_INCLUDE)/bits/socket.h,$(wildcard $(LIBC_INCLUDE)/bits/socket.h))
-  GLIBCFIX=-I../include-glibc -I/usr/include/db3 -include ../include-glibc/glibc-bugs.h
-endif
 
 
 CC = gcc
 CCOPTS = -D_GNU_SOURCE -O2 -Wstrict-prototypes -Wall -g
-CFLAGS = $(CCOPTS) $(GLIBCFIX) -I$(KERNEL_INCLUDE) -I../include $(DEFINES)
+CFLAGS = $(CCOPTS) -I../include $(DEFINES)
 
 LDLIBS += -L../lib -lnetlink -lutil
 
@@ -43,19 +34,11 @@
 
 LIBNETLINK=../lib/libnetlink.a ../lib/libutil.a
 
-all: check-kernel
+all:
 	@set -e; \
 	for i in $(SUBDIRS); \
 	do $(MAKE) -C $$i; done
 
-check-kernel:
-ifeq ($(KERNEL_INCLUDE),)
-	@echo "Please, set correct KERNEL_INCLUDE"; false
-else
-	@set -e; \
-	if [ ! -r $(KERNEL_INCLUDE)/linux/autoconf.h ]; then \
-		echo "Please, compile the kernel first"; false; fi
-endif
 
 install: all
 	install -m 0755 -d $(DESTDIR)$(SBINDIR)
diff -urN iproute2.orig/include/rt_names.h iproute2/include/rt_names.h
--- iproute2.orig/include/rt_names.h	2000-04-16 17:42:50.000000000 +0000
+++ iproute2/include/rt_names.h	2004-05-01 15:50:25.000000000 +0000
@@ -1,6 +1,8 @@
 #ifndef RT_NAMES_H_
 #define RT_NAMES_H_ 1
 
+#include <asm/byteorder.h>
+
 const char* rtnl_rtprot_n2a(int id, char *buf, int len);
 const char* rtnl_rtscope_n2a(int id, char *buf, int len);
 const char* rtnl_rttable_n2a(int id, char *buf, int len);
diff -urN iproute2.orig/lib/rt_names.c iproute2/lib/rt_names.c
--- iproute2.orig/lib/rt_names.c	2000-04-16 17:42:52.000000000 +0000
+++ iproute2/lib/rt_names.c	2004-05-01 15:49:52.000000000 +0000
@@ -16,6 +16,7 @@
 #include <fcntl.h>
 #include <string.h>
 #include <sys/time.h>
+#include <asm/byteorder.h>
 
 static void rtnl_tab_initialize(char *file, char **tab, int size)
 {
diff -urN iproute2.orig/misc/arpd.c iproute2/misc/arpd.c
--- iproute2.orig/misc/arpd.c	2002-01-10 04:02:26.000000000 +0000
+++ iproute2/misc/arpd.c	2004-05-01 17:19:54.000000000 +0000
@@ -16,7 +16,7 @@
 #include <unistd.h>
 #include <stdlib.h>
 #include <netdb.h>
-#include <db.h>
+#include <db_185.h>
 #include <sys/ioctl.h>
 #include <sys/poll.h>
 #include <errno.h>
@@ -28,6 +28,7 @@
 #include <signal.h>
 #include <linux/if.h>
 #include <linux/if_arp.h>
+#include <linux/if_ether.h>
 #include <netinet/in.h>
 #include <arpa/inet.h>
 #include <linux/if_packet.h>
