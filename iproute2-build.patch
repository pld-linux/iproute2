diff -urN iproute2-2.6.8.org/Makefile iproute2-2.6.8/Makefile
--- iproute2-2.6.8.org/Makefile	2004-07-16 21:49:23.066528064 +0200
+++ iproute2-2.6.8/Makefile	2004-07-16 21:50:01.491686552 +0200
@@ -12,7 +12,7 @@
 DEFINES= -DRESOLVE_HOSTNAMES
 
 #options if you have a bind>=4.9.4 libresolv (or, maybe, glibc)
-LDLIBS=-lresolv
+LDLIBS=
 ADDLIB=
 
 #options for decnet
@@ -22,7 +22,7 @@
 ADDLIB+=ipx_ntop.o ipx_pton.o
 
 CC = gcc
-CCOPTS = -D_GNU_SOURCE -O2 -Wstrict-prototypes -Wall -g
+CCOPTS = -D_GNU_SOURCE $(OPT) -Wstrict-prototypes -Wall -g
 CFLAGS = $(CCOPTS) -I$(KERNEL_INCLUDE) -I../include $(DEFINES)
 
 LDLIBS += -L../lib -lnetlink -lutil
