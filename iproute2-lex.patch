diff -urNbB iproute2-2.6.14-051107.org/tc/emp_ematch.l iproute2-2.6.14-051107/tc/emp_ematch.l
--- iproute2-2.6.14-051107.org/tc/emp_ematch.l	2005-07-14 18:49:27.000000000 +0200
+++ iproute2-2.6.14-051107/tc/emp_ematch.l	2005-11-10 16:00:16.522017250 +0100
@@ -63,7 +63,7 @@
 
 %}
 
-%x str
+%x stri
 
 %option 8bit stack warn noyywrap prefix="ematch_"
 %%
@@ -78,17 +78,17 @@
 						}
 						strbuf_index = 0;
 						
-						BEGIN(str);
+						BEGIN(stri);
 					}
 
-<str>\"					{
+<stri>\"					{
 						BEGIN(INITIAL);
 						yylval.b = bstr_new(strbuf, strbuf_index);
 						yylval.b->quoted = 1;
 						return ATTRIBUTE;
 					}
 
-<str>\\[0-7]{1,3}			{ /* octal escape sequence */
+<stri>\\[0-7]{1,3}			{ /* octal escape sequence */
 						int res;
 						
 						sscanf(yytext + 1, "%o", &res);
@@ -100,12 +100,12 @@
 						strbuf_append_char((unsigned char) res);
 					}
 
-<str>\\[0-9]+				{ /* catch wrong octal escape seq. */
+<stri>\\[0-9]+				{ /* catch wrong octal escape seq. */
 						fprintf(stderr, "error: invalid octale escape sequence\n");
 						return ERROR;
 					}
 
-<str>\\x[0-9a-fA-F]{1,2}		{
+<stri>\\x[0-9a-fA-F]{1,2}		{
 						int res;
 						
 						sscanf(yytext + 2, "%x", &res);
@@ -118,16 +118,16 @@
 						strbuf_append_char((unsigned char) res);
 					}
 
-<str>\\n				strbuf_append_char('\n');
-<str>\\r				strbuf_append_char('\r');
-<str>\\t				strbuf_append_char('\t');
-<str>\\v				strbuf_append_char('\v');
-<str>\\b				strbuf_append_char('\b');
-<str>\\f				strbuf_append_char('\f');
-<str>\\a				strbuf_append_char('\a');
+<stri>\\n				strbuf_append_char('\n');
+<stri>\\r				strbuf_append_char('\r');
+<stri>\\t				strbuf_append_char('\t');
+<stri>\\v				strbuf_append_char('\v');
+<stri>\\b				strbuf_append_char('\b');
+<stri>\\f				strbuf_append_char('\f');
+<stri>\\a				strbuf_append_char('\a');
 
-<str>\\(.|\n)				strbuf_append_char(yytext[1]);
-<str>[^\\\n\"]+				strbuf_append_charp(yytext);
+<stri>\\(.|\n)				strbuf_append_char(yytext[1]);
+<stri>[^\\\n\"]+				strbuf_append_charp(yytext);
 
 [aA][nN][dD]				return AND;
 [oO][rR]				return OR;
